DelphesJetSubstructure
======================

Calculate Jet Substructure variables for Delphes output

Before running make in this directory, please, update the LocalSettings.C file with the appropriate paths on your system.

When you run make successsfully, you will have four executables built: ha, miniha, extras and truthbtag

  ha: ha runs the jet substructure analysis on a root file generated by Delphes. That includes running the qjet plugin and calculating the n-subjetinness. The output of has is mini-tuple containing only the final state particles and the jet substructure variables. The output files have the name of the input file with an added prefix of "mintree_jetsub_" e.g. my_data_file.root will result in output of mintree_jetsub_my_data_file.root.
  Running ha with no parameters on the command line will fork ha analysis process for all masses of A listed in the RunHeavyHiggs function in Run.C. The input files are expected to have the form a-zh-XXXGeV.root, where XXX is the mass of A in GeV. This can be changed in the same function. Running ha with a file name will result in running the jet substructure analysis code only on this mass of A. Note that you need to specify only the file name, as in ha a-zh-500GeV.root - ha will still find the file in the input folder specified in LocalSettings.C.

 miniha: miniha runs additional analysis on the minituples generated by ha. It does any cuts, reconstructs the events, generated the kinematics histograms and calculates the significance and the yields. It uses the input/output folders define in LocalSetting.C. It expects the minituples to be named mintree_jetsub_a-zh-XXXGeV.root where XXX is the mass of A. It stores the results in res-mintree_jetsub_a-zh-XXXGeV.root.

 extras: extras reads the output of miniha and constructs some generates some useful plots by superimposing the histograms for 0.8/1.2 cones.

 truthbtag: truthbtag is a sample of how to do b-tagging in the analysis code. It provides a simple way to iterate over events and uses the Particle branch to determine whether a Jet is close enough to a b/~b.